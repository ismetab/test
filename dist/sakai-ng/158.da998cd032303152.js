"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[158],{3158:(I,x,c)=>{c.r(x),c.d(x,{AllJobsModule:()=>$});var b=c(6814),l=c(846);class w{}var e=c(9291),B=c(888),T=c(4429),M=c(3999),J=c(5219);let S=(()=>{class n{constructor(t,o){this.translate=t,this.messageService=o}addMessage(t,o,s=""){let r;this.translate.get(o).subscribe(g=>{r=g}),this.messageService.add({severity:t,summary:r,detail:s})}addErrorMessage(t,o){401!==t.error.result.code&&(this.messageService.clear(),this.addMessage("error",o,t.error.result.code+": "+t.error.result.description))}static#e=this.\u0275fac=function(o){return new(o||n)(e.LFG(M.sK),e.LFG(J.ez))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var y=c(707),E=c(4104),v=c(9232),m=c(3714),j=c(3965),i=c(6223),a=c(4480),p=c(9246),d=c(6128);function h(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"button",23),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(),r=e.MAs(7);return e.KtG(s.clear(r))}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"span",24),e._UZ(4,"i",25),e.TgZ(5,"input",26,27),e.NdJ("input",function(s){e.CHM(t),e.oxw();const r=e.MAs(7);return e.KtG(r.filterGlobal(s.target.value,"contains"))}),e.ALo(7,"translate"),e.qZA()()()}2&n&&(e.xp6(1),e.s9C("label",e.lcZ(2,2,"CLEAR")),e.xp6(4),e.s9C("placeholder",e.lcZ(7,4,"SEARCH_KEYWORD_LABEL")))}function _(n,u){1&n&&(e.TgZ(0,"tr")(1,"th",28)(2,"div",29),e._uU(3),e.ALo(4,"translate"),e._UZ(5,"p-columnFilter",30),e.qZA()(),e.TgZ(6,"th",28)(7,"div",29),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-columnFilter",31),e.qZA()(),e.TgZ(11,"th",28)(12,"div",29),e._uU(13),e.ALo(14,"translate"),e._UZ(15,"p-columnFilter",32),e.qZA()(),e.TgZ(16,"th",28)(17,"div",29),e._uU(18),e.ALo(19,"translate"),e._UZ(20,"p-columnFilter",33),e.qZA()(),e.TgZ(21,"th")(22,"div",34),e._uU(23),e.ALo(24,"translate"),e.qZA()()()),2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,5,"JOB_TITLE")," "),e.xp6(5),e.hij(" ",e.lcZ(9,7,"JOB_LOCATION_CITY")," "),e.xp6(5),e.hij(" ",e.lcZ(14,9,"JOB_TYPE")," "),e.xp6(5),e.hij(" ",e.lcZ(19,11,"COMPANY_NAME")," "),e.xp6(5),e.hij(" ",e.lcZ(24,13,"ACTIONS")," "))}function f(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"div")(11,"span",35)(12,"button",36),e.NdJ("click",function(){const r=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.openJobSidebar(r))}),e.qZA(),e.TgZ(13,"button",37),e.NdJ("click",function(){const r=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.removeJob(r))}),e.qZA()()()()()}if(2&n){const t=u.$implicit;e.xp6(2),e.hij(" ",t.title," "),e.xp6(2),e.hij(" ",t.jobLocationCity," "),e.xp6(2),e.hij(" ",t.jobType," "),e.xp6(2),e.hij(" ",t.company.name," ")}}function L(n,u){1&n&&(e.TgZ(0,"tr")(1,"td",38),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"JOBS_NOT_FOUND")))}function Z(n,u){if(1&n&&(e.TgZ(0,"div",39),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.selectedJob.title)}}function O(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"input",40),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedJob.title=s)}),e.qZA()}if(2&n){const t=e.oxw();e.Akn(t.job_input),e.Q6J("ngModel",t.selectedJob.title)}}function C(n,u){if(1&n&&(e.TgZ(0,"div",39),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.selectedCompany.name)}}const A=function(){return{width:"25rem"}};function Y(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",41),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedCompany=s)}),e.ALo(1,"translate"),e.qZA()}if(2&n){const t=e.oxw();e.Akn(e.DdM(7,A)),e.s9C("placeholder",e.lcZ(1,5,"COMPANY")),e.Q6J("options",t.companies)("ngModel",t.selectedCompany)}}function D(n,u){if(1&n&&(e.TgZ(0,"div",39),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.selectedJob.jobLocationCity)}}function F(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"input",40),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedJob.jobLocationCity=s)}),e.qZA()}if(2&n){const t=e.oxw();e.Akn(t.job_input),e.Q6J("ngModel",t.selectedJob.jobLocationCity)}}function U(n,u){if(1&n&&(e.TgZ(0,"div",42),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.selectedJobType.label)}}function N(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"p-selectButton",43),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedJobType=s)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("options",t.jobTypeOptions)("ngModel",t.selectedJobType)}}function P(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"textarea",44),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedJob.description=s)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",!0)("ngModel",t.selectedJob.description)}}function H(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"textarea",45),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedJob.description=s)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.selectedJob.description)}}function q(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"button",46),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.updateJob())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",47),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.toggleEditMode())}),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("label",e.lcZ(2,2,"SENT_LABEL")),e.xp6(2),e.s9C("label",e.lcZ(4,4,"EDIT_LABEL")))}function R(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"button",46),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveJobChanges())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",48),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.discardChanges())}),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("label",e.lcZ(2,2,"SAVE_LABEL")),e.xp6(2),e.s9C("label",e.lcZ(4,4,"DISCARD_LABEL")))}const V=function(){return["title","company.name"]};let G=(()=>{class n{constructor(t,o,s,r){this.companyService=t,this.jobService=o,this.translate=s,this.messagingService=r,this.jobs=[],this.selectedJob={jobId:0,title:"",description:"",jobLocationCity:"",jobType:"",company:null,latitude:0,longitude:0},this.selectedJobType={label:"",value:""},this.selectedCompany={id:0,name:"",address:"",email:""},this.jobSidebar=!1,this.isEditMode=!1,this.jobTypeOptions=[],this.loading=!0,this.totalRecords=100,this.dataCache=new Set,this.currentPageNumber=1,this.jobSidebarStyles={height:"60%",width:"60%",left:"20%","border-radius":"15px"},this.job_input={width:"100%",padding:"8px","box-sizing":"border-box"}}ngOnInit(){this.loadJobTypeOptions(),this.loadCompanies(),this.populateJobs()?this.loadJobs():console.log("Error while fetching jobs!")}removeJob(t){this.jobService.removeJob(t.jobId).subscribe({next:o=>{this.messagingService.addMessage("success","REMOVE_JOB_SUCCESS_MESSAGE"),this.jobs=this.jobs.filter(s=>s.jobId!==t.jobId)},error:o=>{console.error(o),this.messagingService.addErrorMessage(o,"REMOVE_JOB_FAIL_MESSAGE")}})}loadJobTypeOptions(){this.translate.get(["FULL_TIME_LABEL","PART_TIME_LABEL"]).subscribe(t=>{this.jobTypeOptions=[{label:t.FULL_TIME_LABEL,value:"FULL_TIME"},{label:t.PART_TIME_LABEL,value:"PART_TIME"}]})}loadJobs(t=0,o=10){this.dataCache.has(t)?this.loading=!1:(this.loading=!0,this.jobService.getJobs({page:t,size:o}).subscribe({next:s=>{this.dataCache.add(t);var r=0;s.result.content.forEach(g=>{this.jobs[t*o+r]=g,r++}),this.loading=!1},error:s=>{console.error("Exception occurred while fetching jobs!",s),this.loading=!1}}))}loadCompanies(){this.companyService.fetchAllCompanies().subscribe(t=>{this.companies=t.result})}toggleEditMode(){this.isEditMode=!this.isEditMode}saveJobChanges(){this.toggleEditMode()}discardChanges(){this.toggleEditMode()}updateJob(){this.jobService.updateJob({jobId:this.selectedJob.jobId,companyId:this.selectedCompany.id,title:this.selectedJob.title,description:this.selectedJob.description,type:this.selectedJobType.value,location:this.selectedJob.jobLocationCity}).subscribe({next:o=>{this.jobSidebar=!1,this.messagingService.addMessage("success","UPDATE_JOB_SUCCESS_MESSAGE"),this.loadJobs()},error:o=>{this.jobSidebar=!1,console.error(o),this.messagingService.addErrorMessage(o,"UPDATE_JOB_FAIL_MESSAGE")}})}populateJobs(){try{return this.jobService.getNumberOfEntries().subscribe({next:t=>{this.jobs=Array.from({length:t.result},()=>new w)},error:t=>{console.error("Error fetching jobs count",t)}}),!0}catch{return!1}}onPage(t){const o=t.first/t.rows;this.currentPageNumber=o+1,this.loadJobs(o,t.rows)}openJobSidebar(t){this.selectedJob=t,this.selectedJobType=this.jobTypeOptions.find(o=>o.value==t.jobType),this.selectedCompany=this.companies.find(o=>o.id=t.company.id),this.jobSidebar=!0}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(B.J),e.Y36(T.O),e.Y36(M.sK),e.Y36(S))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-jobs"]],decls:55,vars:43,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["dataKey","id",3,"value","rows","showCurrentPageReport","paginator","globalFilterFields","onPage"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["position","bottom","modal","false",3,"visible","baseZIndex","visibleChange"],[1,"mail-title"],[1,"mail-section"],[1,"mail-label"],["class","mail-content",4,"ngIf","ngIfElse"],["editTitle",""],["editCompany",""],["editLocation",""],["class","mail-body",4,"ngIf","ngIfElse"],["editJobType",""],["rows","30","cols","140",3,"disabled","ngModel","ngModelChange",4,"ngIf","ngIfElse"],["editDescription",""],["class","p-buttonset",4,"ngIf"],[1,"flex","justify-content-between","flex-column","sm:flex-row"],["pButton","","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"label","click"],[1,"p-input-icon-left","mb-2"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-full",3,"placeholder","input"],["searchInput",""],[2,"min-width","15rem"],[1,"flex","align-items-center"],["type","text","field","name","display","menu"],["type","text","field","jobLocationCity","display","menu"],["type","text","field","jobType","display","menu"],["type","text","field","company.name","display","menu"],[1,"flex","justify-content-between","align-items-center"],[1,"p-buttonset"],["pButton","","type","button","icon","pi pi-pencil",1,"p-button-raised","p-button-info",3,"click"],["pButton","","type","button","icon","pi pi-trash",1,"p-button-raised","p-button-danger",3,"click"],["colspan","7"],[1,"mail-content"],["type","text",3,"ngModel","ngModelChange"],["optionLabel","name",3,"placeholder","options","ngModel","ngModelChange"],[1,"mail-body"],["optionLabel","label",3,"options","ngModel","ngModelChange"],["rows","30","cols","140",3,"disabled","ngModel","ngModelChange"],["rows","30","cols","140",3,"ngModel","ngModelChange"],["pButton","","pRipple","","icon","pi pi-check",3,"label","click"],["pButton","","pRipple","","icon","pi pi-pencil",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times",3,"label","click"]],template:function(o,s){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"p-table",3,4),e.NdJ("onPage",function(g){return s.onPage(g)}),e.YNc(8,h,8,6,"ng-template",5),e.YNc(9,_,25,15,"ng-template",6),e.YNc(10,f,14,4,"ng-template",7),e.YNc(11,L,4,3,"ng-template",8),e.qZA(),e._UZ(12,"p-toast"),e.qZA()(),e.TgZ(13,"p-sidebar",9),e.NdJ("visibleChange",function(g){return s.jobSidebar=g}),e.TgZ(14,"div",2)(15,"h3",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",11)(19,"label",12),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.YNc(22,Z,2,1,"div",13),e.YNc(23,O,1,3,"ng-template",null,14,e.W1O),e.qZA(),e.TgZ(25,"div",11)(26,"label",12),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.YNc(29,C,2,1,"div",13),e.YNc(30,Y,2,8,"ng-template",null,15,e.W1O),e.qZA(),e.TgZ(32,"div",11)(33,"label",12),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.YNc(36,D,2,1,"div",13),e.YNc(37,F,1,3,"ng-template",null,16,e.W1O),e.qZA(),e.TgZ(39,"div",11)(40,"label",12),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.YNc(43,U,2,1,"div",17),e.YNc(44,N,1,2,"ng-template",null,18,e.W1O),e.qZA(),e.TgZ(46,"div",11)(47,"label",12),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.YNc(50,P,1,2,"textarea",19),e.YNc(51,H,1,1,"ng-template",null,20,e.W1O),e.qZA(),e.YNc(53,q,5,6,"div",21),e.YNc(54,R,5,6,"div",21),e.qZA()()()),2&o){const r=e.MAs(24),g=e.MAs(31),ee=e.MAs(38),te=e.MAs(45),ne=e.MAs(52);e.xp6(4),e.Oqu(e.lcZ(5,28,"ALL_JOBS")),e.xp6(2),e.Q6J("value",s.jobs)("rows",10)("showCurrentPageReport",!0)("paginator",!0)("globalFilterFields",e.DdM(42,V)),e.xp6(7),e.Akn(s.jobSidebarStyles),e.Q6J("visible",s.jobSidebar)("baseZIndex",1e4),e.xp6(3),e.Oqu(e.lcZ(17,30,"JOB_DETAILS")),e.xp6(4),e.Oqu(e.lcZ(21,32,"JOB_TITLE")),e.xp6(2),e.Q6J("ngIf",!s.isEditMode)("ngIfElse",r),e.xp6(5),e.Oqu(e.lcZ(28,34,"COMPANY")),e.xp6(2),e.Q6J("ngIf",!s.isEditMode)("ngIfElse",g),e.xp6(5),e.Oqu(e.lcZ(35,36,"JOB_LOCATION_CITY")),e.xp6(2),e.Q6J("ngIf",!s.isEditMode)("ngIfElse",ee),e.xp6(5),e.Oqu(e.lcZ(42,38,"JOB_TYPE")),e.xp6(2),e.Q6J("ngIf",!s.isEditMode)("ngIfElse",te),e.xp6(5),e.Oqu(e.lcZ(49,40,"JOB_DESCRIPTION")),e.xp6(2),e.Q6J("ngIf",!s.isEditMode)("ngIfElse",ne),e.xp6(3),e.Q6J("ngIf",!s.isEditMode),e.xp6(1),e.Q6J("ngIf",s.isEditMode)}},dependencies:[b.O5,J.jx,y.Hq,E.FN,v.iA,v.xl,m.o,j.Lt,i.Fj,i.JJ,i.On,a.H,p.Y,d.UN,M.X$],encapsulation:2})}return n})(),X=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[l.Bz.forChild([{path:"",component:G}]),l.Bz]})}return n})();var k=c(9540),K=c(7338),Q=c(2892),z=c(4055),W=c(1712);let $=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({providers:[T.O],imports:[b.ez,X,k.ON,y.hJ,Q.$,K._,M.aw,E.EV,v.U$,z.q4,m.j,W.U,a.T,p.l,d.Qy]})}return n})()},7338:(I,x,c)=>{c.d(x,{P:()=>E,_:()=>v});var b=c(6814),l=c(9291),w=c(5219),e=c(2076);const B=["container"],T=["content"],M=["xBar"],J=["yBar"];function S(m,j){1&m&&l.GkF(0)}const y=["*"];let E=(()=>{class m{platformId;el;zone;cd;document;renderer;style;styleClass;containerViewChild;contentViewChild;xBarViewChild;yBarViewChild;templates;scrollYRatio;scrollXRatio;timeoutFrame=i=>setTimeout(i,0);initialized=!1;lastPageY;lastPageX;isXBarClicked=!1;isYBarClicked=!1;contentTemplate;windowResizeListener;contentScrollListener;mouseEnterListener;xBarMouseDownListener;yBarMouseDownListener;documentMouseMoveListener;documentMouseUpListener;constructor(i,a,p,d,h,_){this.platformId=i,this.el=a,this.zone=p,this.cd=d,this.document=h,this.renderer=_}ngAfterViewInit(){(0,b.NF)(this.platformId)&&this.zone.runOutsideAngular(()=>{this.moveBar(),this.moveBar=this.moveBar.bind(this),this.onXBarMouseDown=this.onXBarMouseDown.bind(this),this.onYBarMouseDown=this.onYBarMouseDown.bind(this),this.onDocumentMouseMove=this.onDocumentMouseMove.bind(this),this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),this.windowResizeListener=this.renderer.listen(window,"resize",this.moveBar),this.contentScrollListener=this.renderer.listen(this.contentViewChild.nativeElement,"scroll",this.moveBar),this.mouseEnterListener=this.renderer.listen(this.contentViewChild.nativeElement,"mouseenter",this.moveBar),this.xBarMouseDownListener=this.renderer.listen(this.xBarViewChild.nativeElement,"mousedown",this.onXBarMouseDown),this.yBarMouseDownListener=this.renderer.listen(this.yBarViewChild.nativeElement,"mousedown",this.onYBarMouseDown),this.calculateContainerHeight(),this.initialized=!0})}ngAfterContentInit(){this.templates.forEach(i=>{i.getType(),this.contentTemplate=i.template})}calculateContainerHeight(){let i=this.containerViewChild.nativeElement,a=this.contentViewChild.nativeElement,p=this.xBarViewChild.nativeElement;const d=this.document.defaultView;let h=d.getComputedStyle(i),_=d.getComputedStyle(p),f=e.p.getHeight(i)-parseInt(_.height,10);"none"!=h["max-height"]&&0==f&&(i.style.height=a.offsetHeight+parseInt(_.height,10)>parseInt(h["max-height"],10)?h["max-height"]:a.offsetHeight+parseFloat(h.paddingTop)+parseFloat(h.paddingBottom)+parseFloat(h.borderTopWidth)+parseFloat(h.borderBottomWidth)+"px")}moveBar(){let i=this.containerViewChild.nativeElement,a=this.contentViewChild.nativeElement,p=this.xBarViewChild.nativeElement,d=a.scrollWidth,h=a.clientWidth,_=-1*(i.clientHeight-p.clientHeight);this.scrollXRatio=h/d;let f=this.yBarViewChild.nativeElement,L=a.scrollHeight,Z=a.clientHeight,O=-1*(i.clientWidth-f.clientWidth);this.scrollYRatio=Z/L,this.requestAnimationFrame(()=>{if(this.scrollXRatio>=1)e.p.addClass(p,"p-scrollpanel-hidden");else{e.p.removeClass(p,"p-scrollpanel-hidden");const C=Math.max(100*this.scrollXRatio,10);p.style.cssText="width:"+C+"%; left:"+a.scrollLeft*(100-C)/(d-h)+"%;bottom:"+_+"px;"}if(this.scrollYRatio>=1)e.p.addClass(f,"p-scrollpanel-hidden");else{e.p.removeClass(f,"p-scrollpanel-hidden");const C=Math.max(100*this.scrollYRatio,10);f.style.cssText="height:"+C+"%; top: calc("+a.scrollTop*(100-C)/(L-Z)+"% - "+p.clientHeight+"px);right:"+O+"px;"}}),this.cd.markForCheck()}onYBarMouseDown(i){this.isYBarClicked=!0,this.lastPageY=i.pageY,e.p.addClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),e.p.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),i.preventDefault()}bindDocumentMouseListeners(){this.documentMouseMoveListener=this.renderer.listen(this.document,"mousemove",this.onDocumentMouseMove.bind(this)),this.documentMouseUpListener=this.renderer.listen(this.document,"mouseup",this.onDocumentMouseUp.bind(this))}unbindDocumentMouseListeners(){this.documentMouseMoveListener&&(this.documentMouseMoveListener(),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(this.documentMouseUpListener(),this.documentMouseUpListener=null)}onXBarMouseDown(i){this.isXBarClicked=!0,this.lastPageX=i.pageX,e.p.addClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),e.p.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),i.preventDefault()}onDocumentMouseMove(i){this.isXBarClicked?this.onMouseMoveForXBar(i):(this.isYBarClicked||this.onMouseMoveForXBar(i),this.onMouseMoveForYBar(i))}onMouseMoveForXBar(i){let a=i.pageX-this.lastPageX;this.lastPageX=i.pageX,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollLeft+=a/this.scrollXRatio})}onMouseMoveForYBar(i){let a=i.pageY-this.lastPageY;this.lastPageY=i.pageY,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollTop+=a/this.scrollYRatio})}scrollTop(i){let a=this.contentViewChild.nativeElement.scrollHeight-this.contentViewChild.nativeElement.clientHeight;this.contentViewChild.nativeElement.scrollTop=i=i>a?a:i>0?i:0}onDocumentMouseUp(i){e.p.removeClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),e.p.removeClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),e.p.removeClass(this.document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1}requestAnimationFrame(i){(window.requestAnimationFrame||this.timeoutFrame)(i)}unbindListeners(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null),this.contentScrollListener&&(this.contentScrollListener(),this.contentScrollListener=null),this.mouseEnterListener&&(this.mouseEnterListener(),this.mouseEnterListener=null),this.xBarMouseDownListener&&(this.xBarMouseDownListener(),this.xBarMouseDownListener=null),this.yBarMouseDownListener&&(this.yBarMouseDownListener(),this.yBarMouseDownListener=null)}ngOnDestroy(){this.initialized&&this.unbindListeners()}refresh(){this.moveBar()}static \u0275fac=function(a){return new(a||m)(l.Y36(l.Lbi),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(b.K0),l.Y36(l.Qsj))};static \u0275cmp=l.Xpm({type:m,selectors:[["p-scrollPanel"]],contentQueries:function(a,p,d){if(1&a&&l.Suo(d,w.jx,4),2&a){let h;l.iGM(h=l.CRH())&&(p.templates=h)}},viewQuery:function(a,p){if(1&a&&(l.Gf(B,5),l.Gf(T,5),l.Gf(M,5),l.Gf(J,5)),2&a){let d;l.iGM(d=l.CRH())&&(p.containerViewChild=d.first),l.iGM(d=l.CRH())&&(p.contentViewChild=d.first),l.iGM(d=l.CRH())&&(p.xBarViewChild=d.first),l.iGM(d=l.CRH())&&(p.yBarViewChild=d.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:y,decls:11,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[1,"p-scrollpanel-wrapper"],[1,"p-scrollpanel-content"],["content",""],[4,"ngTemplateOutlet"],[1,"p-scrollpanel-bar","p-scrollpanel-bar-x"],["xBar",""],[1,"p-scrollpanel-bar","p-scrollpanel-bar-y"],["yBar",""]],template:function(a,p){1&a&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3,4),l.Hsn(5),l.YNc(6,S,1,0,"ng-container",5),l.qZA()(),l._UZ(7,"div",6,7)(9,"div",8,9),l.qZA()),2&a&&(l.Tol(p.styleClass),l.Q6J("ngClass","p-scrollpanel p-component")("ngStyle",p.style),l.xp6(6),l.Q6J("ngTemplateOutlet",p.contentTemplate))},dependencies:[b.mk,b.tP,b.PC],styles:[".p-scrollpanel-wrapper{overflow:hidden;width:100%;height:100%;position:relative;float:left}.p-scrollpanel-content{height:calc(100% + 18px);width:calc(100% + 18px);padding:0 18px 18px 0;position:relative;overflow:auto;box-sizing:border-box}.p-scrollpanel-bar{position:relative;background:#c1c1c1;border-radius:3px;cursor:pointer;opacity:0;transition:opacity .25s linear}.p-scrollpanel-bar-y{width:9px;top:0}.p-scrollpanel-bar-x{height:9px;bottom:0}.p-scrollpanel-hidden{visibility:hidden}.p-scrollpanel:hover .p-scrollpanel-bar,.p-scrollpanel:active .p-scrollpanel-bar{opacity:1}.p-scrollpanel-grabbed{-webkit-user-select:none;user-select:none}\n"],encapsulation:2,changeDetection:0})}return m})(),v=(()=>{class m{static \u0275fac=function(a){return new(a||m)};static \u0275mod=l.oAB({type:m});static \u0275inj=l.cJS({imports:[b.ez]})}return m})()}}]);