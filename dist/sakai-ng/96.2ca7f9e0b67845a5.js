"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[96],{5096:(Y,L,o)=>{o.r(L),o.d(L,{AddJobModule:()=>Z});var g=o(6814),i=o(846),e=o(9291),h=o(4429),O=o(888),y=o(3999),A=o(5219),w=o(707),b=o(6223),T=o(3714),E=o(3965),D=o(6218),p=o(6128),F=o(4104);const t=function(){return{width:"25rem"}};let n=(()=>{class u{constructor(a,d,s,m){this.jobService=a,this.companyService=d,this.translate=s,this.messageService=m,this.companies=[],this.selectedCompany={id:0,name:"",address:"",email:""},this.loading=!1,this.jobTypeOptions=[],this.job={},this.title="",this.description="",this.jobLocationCity="",this.jobType=""}ngOnInit(){this.loadJobTypeOptions(),this.fetchAllCompanies()}loadJobTypeOptions(){this.translate.get(["FULL_TIME_LABEL","PART_TIME_LABEL"]).subscribe(a=>{this.jobTypeOptions=[{label:a.FULL_TIME_LABEL,value:"FULL_TIME"},{label:a.PART_TIME_LABEL,value:"PART_TIME"}]})}fetchAllCompanies(){this.loading=!0,this.companyService.fetchAllCompanies().subscribe({next:a=>{this.companies=a.result,this.loading=!1},error:a=>{console.error(a),this.loading=!1}})}onAddJob(){const a={title:this.title,companyId:this.selectedCompany.id,description:this.description,location:this.jobLocationCity,type:this.jobType.value};console.log(a),this.jobService.addJob(a).subscribe({next:d=>{this.clearFields(),this.addMessage("success")},error:d=>{console.error(d),this.addErrorMessage(d),this.loading=!1}})}clearFields(){this.title="",this.jobLocationCity="",this.description="",this.jobType="",this.selectedCompany=null}addMessage(a,d=""){let s;"success"===a?this.translate.get("ADD_JOB_SUCCESS_MESSAGE").subscribe(m=>{s=m}):this.translate.get("ADD_JOB_FAIL_MESSAGE").subscribe(m=>{s=m}),this.messageService.add({severity:a,summary:s,detail:d})}addErrorMessage(a){401!==a.error.result.code&&(this.messageService.clear(),this.addMessage("error",a.error.result.code+": "+a.error.result.description))}static#e=this.\u0275fac=function(d){return new(d||u)(e.Y36(h.O),e.Y36(O.J),e.Y36(y.sK),e.Y36(A.ez))};static#t=this.\u0275cmp=e.Xpm({type:u,selectors:[["app-admin-add-job"]],decls:34,vars:34,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[2,"color","darkblue"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12"],["optionLabel","name",3,"placeholder","options","dropdownIcon","emptyMessage","ngModel","ngModelChange"],[1,"field","col-12","md:col-6"],["htmlFor","jobTitle"],["pInputText","","id","jobTitle","type","text",3,"ngModel","ngModelChange"],[1,"field","col-12","md:col-3"],["htmlFor","jobLocationCity"],["pInputText","","id","jobLocationCity","type","text",3,"ngModel","ngModelChange"],["htmlFor","jobType"],["optionLabel","label",3,"options","ngModel","ngModelChange"],["htmlFor","jobDescription"],["rows","6","pInputTextarea","",3,"ngModel","ngModelChange"],[1,"flex","col-12","justify-content-end"],["icon","pi pi-plus","iconPos","right",3,"label","disabled","click"]],template:function(d,s){1&d&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",4)(7,"div",5)(8,"p-dropdown",6),e.NdJ("ngModelChange",function(M){return s.selectedCompany=M}),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",7)(11,"label",8),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"input",9),e.NdJ("ngModelChange",function(M){return s.title=M}),e.qZA()(),e.TgZ(15,"div",10)(16,"label",11),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"input",12),e.NdJ("ngModelChange",function(M){return s.jobLocationCity=M}),e.qZA()(),e.TgZ(20,"div",10)(21,"label",13),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"p-selectButton",14),e.NdJ("ngModelChange",function(M){return s.jobType=M}),e.qZA()(),e.TgZ(25,"div",5)(26,"label",15),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"textarea",16),e.NdJ("ngModelChange",function(M){return s.description=M}),e.qZA()(),e.TgZ(30,"div",17)(31,"p-button",18),e.NdJ("click",function(){return s.onAddJob()}),e.ALo(32,"translate"),e.qZA()()(),e._UZ(33,"p-toast"),e.qZA()()()),2&d&&(e.xp6(4),e.Oqu(e.lcZ(5,19,"ADD_JOB")),e.xp6(4),e.Akn(e.DdM(33,t)),e.s9C("placeholder",e.lcZ(9,21,"COMPANY")),e.Q6J("options",s.companies)("dropdownIcon",s.loading?"pi pi-fw pi-spinner pi-spin":"pi pi-fw pi-angle-down")("emptyMessage",s.loading?"Companies are loading!":"Any company could not be found!")("ngModel",s.selectedCompany),e.xp6(4),e.Oqu(e.lcZ(13,23,"JOB_TITLE")),e.xp6(2),e.Q6J("ngModel",s.title),e.xp6(3),e.Oqu(e.lcZ(18,25,"JOB_LOCATION_CITY")),e.xp6(2),e.Q6J("ngModel",s.jobLocationCity),e.xp6(3),e.Oqu(e.lcZ(23,27,"JOB_TYPE")),e.xp6(2),e.Q6J("options",s.jobTypeOptions)("ngModel",s.jobType),e.xp6(3),e.Oqu(e.lcZ(28,29,"JOB_DESCRIPTION")),e.xp6(2),e.Q6J("ngModel",s.description),e.xp6(2),e.s9C("label",e.lcZ(32,31,"ADD")),e.Q6J("disabled",!(s.selectedCompany&&s.title&&s.jobLocationCity&&s.jobType&&s.description)))},dependencies:[w.zx,b.Fj,b.JJ,b.On,T.o,E.Lt,D.g,p.UN,F.FN,y.X$],encapsulation:2})}return u})(),l=(()=>{class u{static#e=this.\u0275fac=function(d){return new(d||u)};static#t=this.\u0275mod=e.oAB({type:u});static#i=this.\u0275inj=e.cJS({imports:[i.Bz.forChild([{path:"",component:n}]),i.Bz]})}return u})();var r=o(9540),c=o(7338),C=o(2892),v=o(1480),x=o(7327),J=o(9663),S=o(354),f=o(8062),B=o(4055);let Z=(()=>{class u{static#e=this.\u0275fac=function(d){return new(d||u)};static#t=this.\u0275mod=e.oAB({type:u});static#i=this.\u0275inj=e.cJS({providers:[h.O,A.ez],imports:[g.ez,l,r.ON,w.hJ,C.$,c._,g.ez,b.u5,x.WN,v.Gg,E.kW,J.zz,S.L$,f.XH,B.q4,D.A,T.j,p.Qy,y.aw,F.EV]})}return u})()},7338:(Y,L,o)=>{o.d(L,{P:()=>E,_:()=>D});var g=o(6814),i=o(9291),e=o(5219),h=o(2076);const O=["container"],y=["content"],A=["xBar"],w=["yBar"];function b(p,F){1&p&&i.GkF(0)}const T=["*"];let E=(()=>{class p{platformId;el;zone;cd;document;renderer;style;styleClass;containerViewChild;contentViewChild;xBarViewChild;yBarViewChild;templates;scrollYRatio;scrollXRatio;timeoutFrame=t=>setTimeout(t,0);initialized=!1;lastPageY;lastPageX;isXBarClicked=!1;isYBarClicked=!1;contentTemplate;windowResizeListener;contentScrollListener;mouseEnterListener;xBarMouseDownListener;yBarMouseDownListener;documentMouseMoveListener;documentMouseUpListener;constructor(t,n,l,r,c,C){this.platformId=t,this.el=n,this.zone=l,this.cd=r,this.document=c,this.renderer=C}ngAfterViewInit(){(0,g.NF)(this.platformId)&&this.zone.runOutsideAngular(()=>{this.moveBar(),this.moveBar=this.moveBar.bind(this),this.onXBarMouseDown=this.onXBarMouseDown.bind(this),this.onYBarMouseDown=this.onYBarMouseDown.bind(this),this.onDocumentMouseMove=this.onDocumentMouseMove.bind(this),this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),this.windowResizeListener=this.renderer.listen(window,"resize",this.moveBar),this.contentScrollListener=this.renderer.listen(this.contentViewChild.nativeElement,"scroll",this.moveBar),this.mouseEnterListener=this.renderer.listen(this.contentViewChild.nativeElement,"mouseenter",this.moveBar),this.xBarMouseDownListener=this.renderer.listen(this.xBarViewChild.nativeElement,"mousedown",this.onXBarMouseDown),this.yBarMouseDownListener=this.renderer.listen(this.yBarViewChild.nativeElement,"mousedown",this.onYBarMouseDown),this.calculateContainerHeight(),this.initialized=!0})}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.contentTemplate=t.template})}calculateContainerHeight(){let t=this.containerViewChild.nativeElement,n=this.contentViewChild.nativeElement,l=this.xBarViewChild.nativeElement;const r=this.document.defaultView;let c=r.getComputedStyle(t),C=r.getComputedStyle(l),v=h.p.getHeight(t)-parseInt(C.height,10);"none"!=c["max-height"]&&0==v&&(t.style.height=n.offsetHeight+parseInt(C.height,10)>parseInt(c["max-height"],10)?c["max-height"]:n.offsetHeight+parseFloat(c.paddingTop)+parseFloat(c.paddingBottom)+parseFloat(c.borderTopWidth)+parseFloat(c.borderBottomWidth)+"px")}moveBar(){let t=this.containerViewChild.nativeElement,n=this.contentViewChild.nativeElement,l=this.xBarViewChild.nativeElement,r=n.scrollWidth,c=n.clientWidth,C=-1*(t.clientHeight-l.clientHeight);this.scrollXRatio=c/r;let v=this.yBarViewChild.nativeElement,x=n.scrollHeight,J=n.clientHeight,S=-1*(t.clientWidth-v.clientWidth);this.scrollYRatio=J/x,this.requestAnimationFrame(()=>{if(this.scrollXRatio>=1)h.p.addClass(l,"p-scrollpanel-hidden");else{h.p.removeClass(l,"p-scrollpanel-hidden");const f=Math.max(100*this.scrollXRatio,10);l.style.cssText="width:"+f+"%; left:"+n.scrollLeft*(100-f)/(r-c)+"%;bottom:"+C+"px;"}if(this.scrollYRatio>=1)h.p.addClass(v,"p-scrollpanel-hidden");else{h.p.removeClass(v,"p-scrollpanel-hidden");const f=Math.max(100*this.scrollYRatio,10);v.style.cssText="height:"+f+"%; top: calc("+n.scrollTop*(100-f)/(x-J)+"% - "+l.clientHeight+"px);right:"+S+"px;"}}),this.cd.markForCheck()}onYBarMouseDown(t){this.isYBarClicked=!0,this.lastPageY=t.pageY,h.p.addClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),h.p.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),t.preventDefault()}bindDocumentMouseListeners(){this.documentMouseMoveListener=this.renderer.listen(this.document,"mousemove",this.onDocumentMouseMove.bind(this)),this.documentMouseUpListener=this.renderer.listen(this.document,"mouseup",this.onDocumentMouseUp.bind(this))}unbindDocumentMouseListeners(){this.documentMouseMoveListener&&(this.documentMouseMoveListener(),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(this.documentMouseUpListener(),this.documentMouseUpListener=null)}onXBarMouseDown(t){this.isXBarClicked=!0,this.lastPageX=t.pageX,h.p.addClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),h.p.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),t.preventDefault()}onDocumentMouseMove(t){this.isXBarClicked?this.onMouseMoveForXBar(t):(this.isYBarClicked||this.onMouseMoveForXBar(t),this.onMouseMoveForYBar(t))}onMouseMoveForXBar(t){let n=t.pageX-this.lastPageX;this.lastPageX=t.pageX,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollLeft+=n/this.scrollXRatio})}onMouseMoveForYBar(t){let n=t.pageY-this.lastPageY;this.lastPageY=t.pageY,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollTop+=n/this.scrollYRatio})}scrollTop(t){let n=this.contentViewChild.nativeElement.scrollHeight-this.contentViewChild.nativeElement.clientHeight;this.contentViewChild.nativeElement.scrollTop=t=t>n?n:t>0?t:0}onDocumentMouseUp(t){h.p.removeClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),h.p.removeClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),h.p.removeClass(this.document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1}requestAnimationFrame(t){(window.requestAnimationFrame||this.timeoutFrame)(t)}unbindListeners(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null),this.contentScrollListener&&(this.contentScrollListener(),this.contentScrollListener=null),this.mouseEnterListener&&(this.mouseEnterListener(),this.mouseEnterListener=null),this.xBarMouseDownListener&&(this.xBarMouseDownListener(),this.xBarMouseDownListener=null),this.yBarMouseDownListener&&(this.yBarMouseDownListener(),this.yBarMouseDownListener=null)}ngOnDestroy(){this.initialized&&this.unbindListeners()}refresh(){this.moveBar()}static \u0275fac=function(n){return new(n||p)(i.Y36(i.Lbi),i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(g.K0),i.Y36(i.Qsj))};static \u0275cmp=i.Xpm({type:p,selectors:[["p-scrollPanel"]],contentQueries:function(n,l,r){if(1&n&&i.Suo(r,e.jx,4),2&n){let c;i.iGM(c=i.CRH())&&(l.templates=c)}},viewQuery:function(n,l){if(1&n&&(i.Gf(O,5),i.Gf(y,5),i.Gf(A,5),i.Gf(w,5)),2&n){let r;i.iGM(r=i.CRH())&&(l.containerViewChild=r.first),i.iGM(r=i.CRH())&&(l.contentViewChild=r.first),i.iGM(r=i.CRH())&&(l.xBarViewChild=r.first),i.iGM(r=i.CRH())&&(l.yBarViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:T,decls:11,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[1,"p-scrollpanel-wrapper"],[1,"p-scrollpanel-content"],["content",""],[4,"ngTemplateOutlet"],[1,"p-scrollpanel-bar","p-scrollpanel-bar-x"],["xBar",""],[1,"p-scrollpanel-bar","p-scrollpanel-bar-y"],["yBar",""]],template:function(n,l){1&n&&(i.F$t(),i.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3,4),i.Hsn(5),i.YNc(6,b,1,0,"ng-container",5),i.qZA()(),i._UZ(7,"div",6,7)(9,"div",8,9),i.qZA()),2&n&&(i.Tol(l.styleClass),i.Q6J("ngClass","p-scrollpanel p-component")("ngStyle",l.style),i.xp6(6),i.Q6J("ngTemplateOutlet",l.contentTemplate))},dependencies:[g.mk,g.tP,g.PC],styles:[".p-scrollpanel-wrapper{overflow:hidden;width:100%;height:100%;position:relative;float:left}.p-scrollpanel-content{height:calc(100% + 18px);width:calc(100% + 18px);padding:0 18px 18px 0;position:relative;overflow:auto;box-sizing:border-box}.p-scrollpanel-bar{position:relative;background:#c1c1c1;border-radius:3px;cursor:pointer;opacity:0;transition:opacity .25s linear}.p-scrollpanel-bar-y{width:9px;top:0}.p-scrollpanel-bar-x{height:9px;bottom:0}.p-scrollpanel-hidden{visibility:hidden}.p-scrollpanel:hover .p-scrollpanel-bar,.p-scrollpanel:active .p-scrollpanel-bar{opacity:1}.p-scrollpanel-grabbed{-webkit-user-select:none;user-select:none}\n"],encapsulation:2,changeDetection:0})}return p})(),D=(()=>{class p{static \u0275fac=function(n){return new(n||p)};static \u0275mod=i.oAB({type:p});static \u0275inj=i.cJS({imports:[g.ez]})}return p})()}}]);