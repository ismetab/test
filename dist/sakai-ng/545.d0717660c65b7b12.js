"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[545],{7338:(D,M,u)=>{u.d(M,{P:()=>f,_:()=>w});var p=u(6814),e=u(9291),n=u(5219),o=u(2076);const y=["container"],h=["content"],E=["xBar"],r=["yBar"];function c(d,k){1&d&&e.GkF(0)}const m=["*"];let f=(()=>{class d{platformId;el;zone;cd;document;renderer;style;styleClass;containerViewChild;contentViewChild;xBarViewChild;yBarViewChild;templates;scrollYRatio;scrollXRatio;timeoutFrame=t=>setTimeout(t,0);initialized=!1;lastPageY;lastPageX;isXBarClicked=!1;isYBarClicked=!1;contentTemplate;windowResizeListener;contentScrollListener;mouseEnterListener;xBarMouseDownListener;yBarMouseDownListener;documentMouseMoveListener;documentMouseUpListener;constructor(t,s,i,l,a,g){this.platformId=t,this.el=s,this.zone=i,this.cd=l,this.document=a,this.renderer=g}ngAfterViewInit(){(0,p.NF)(this.platformId)&&this.zone.runOutsideAngular(()=>{this.moveBar(),this.moveBar=this.moveBar.bind(this),this.onXBarMouseDown=this.onXBarMouseDown.bind(this),this.onYBarMouseDown=this.onYBarMouseDown.bind(this),this.onDocumentMouseMove=this.onDocumentMouseMove.bind(this),this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),this.windowResizeListener=this.renderer.listen(window,"resize",this.moveBar),this.contentScrollListener=this.renderer.listen(this.contentViewChild.nativeElement,"scroll",this.moveBar),this.mouseEnterListener=this.renderer.listen(this.contentViewChild.nativeElement,"mouseenter",this.moveBar),this.xBarMouseDownListener=this.renderer.listen(this.xBarViewChild.nativeElement,"mousedown",this.onXBarMouseDown),this.yBarMouseDownListener=this.renderer.listen(this.yBarViewChild.nativeElement,"mousedown",this.onYBarMouseDown),this.calculateContainerHeight(),this.initialized=!0})}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.contentTemplate=t.template})}calculateContainerHeight(){let t=this.containerViewChild.nativeElement,s=this.contentViewChild.nativeElement,i=this.xBarViewChild.nativeElement;const l=this.document.defaultView;let a=l.getComputedStyle(t),g=l.getComputedStyle(i),C=o.p.getHeight(t)-parseInt(g.height,10);"none"!=a["max-height"]&&0==C&&(t.style.height=s.offsetHeight+parseInt(g.height,10)>parseInt(a["max-height"],10)?a["max-height"]:s.offsetHeight+parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth)+"px")}moveBar(){let t=this.containerViewChild.nativeElement,s=this.contentViewChild.nativeElement,i=this.xBarViewChild.nativeElement,l=s.scrollWidth,a=s.clientWidth,g=-1*(t.clientHeight-i.clientHeight);this.scrollXRatio=a/l;let C=this.yBarViewChild.nativeElement,B=s.scrollHeight,b=s.clientHeight,_=-1*(t.clientWidth-C.clientWidth);this.scrollYRatio=b/B,this.requestAnimationFrame(()=>{if(this.scrollXRatio>=1)o.p.addClass(i,"p-scrollpanel-hidden");else{o.p.removeClass(i,"p-scrollpanel-hidden");const v=Math.max(100*this.scrollXRatio,10);i.style.cssText="width:"+v+"%; left:"+s.scrollLeft*(100-v)/(l-a)+"%;bottom:"+g+"px;"}if(this.scrollYRatio>=1)o.p.addClass(C,"p-scrollpanel-hidden");else{o.p.removeClass(C,"p-scrollpanel-hidden");const v=Math.max(100*this.scrollYRatio,10);C.style.cssText="height:"+v+"%; top: calc("+s.scrollTop*(100-v)/(B-b)+"% - "+i.clientHeight+"px);right:"+_+"px;"}}),this.cd.markForCheck()}onYBarMouseDown(t){this.isYBarClicked=!0,this.lastPageY=t.pageY,o.p.addClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),o.p.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),t.preventDefault()}bindDocumentMouseListeners(){this.documentMouseMoveListener=this.renderer.listen(this.document,"mousemove",this.onDocumentMouseMove.bind(this)),this.documentMouseUpListener=this.renderer.listen(this.document,"mouseup",this.onDocumentMouseUp.bind(this))}unbindDocumentMouseListeners(){this.documentMouseMoveListener&&(this.documentMouseMoveListener(),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(this.documentMouseUpListener(),this.documentMouseUpListener=null)}onXBarMouseDown(t){this.isXBarClicked=!0,this.lastPageX=t.pageX,o.p.addClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),o.p.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),t.preventDefault()}onDocumentMouseMove(t){this.isXBarClicked?this.onMouseMoveForXBar(t):(this.isYBarClicked||this.onMouseMoveForXBar(t),this.onMouseMoveForYBar(t))}onMouseMoveForXBar(t){let s=t.pageX-this.lastPageX;this.lastPageX=t.pageX,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollLeft+=s/this.scrollXRatio})}onMouseMoveForYBar(t){let s=t.pageY-this.lastPageY;this.lastPageY=t.pageY,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollTop+=s/this.scrollYRatio})}scrollTop(t){let s=this.contentViewChild.nativeElement.scrollHeight-this.contentViewChild.nativeElement.clientHeight;this.contentViewChild.nativeElement.scrollTop=t=t>s?s:t>0?t:0}onDocumentMouseUp(t){o.p.removeClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),o.p.removeClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),o.p.removeClass(this.document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1}requestAnimationFrame(t){(window.requestAnimationFrame||this.timeoutFrame)(t)}unbindListeners(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null),this.contentScrollListener&&(this.contentScrollListener(),this.contentScrollListener=null),this.mouseEnterListener&&(this.mouseEnterListener(),this.mouseEnterListener=null),this.xBarMouseDownListener&&(this.xBarMouseDownListener(),this.xBarMouseDownListener=null),this.yBarMouseDownListener&&(this.yBarMouseDownListener(),this.yBarMouseDownListener=null)}ngOnDestroy(){this.initialized&&this.unbindListeners()}refresh(){this.moveBar()}static \u0275fac=function(s){return new(s||d)(e.Y36(e.Lbi),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(p.K0),e.Y36(e.Qsj))};static \u0275cmp=e.Xpm({type:d,selectors:[["p-scrollPanel"]],contentQueries:function(s,i,l){if(1&s&&e.Suo(l,n.jx,4),2&s){let a;e.iGM(a=e.CRH())&&(i.templates=a)}},viewQuery:function(s,i){if(1&s&&(e.Gf(y,5),e.Gf(h,5),e.Gf(E,5),e.Gf(r,5)),2&s){let l;e.iGM(l=e.CRH())&&(i.containerViewChild=l.first),e.iGM(l=e.CRH())&&(i.contentViewChild=l.first),e.iGM(l=e.CRH())&&(i.xBarViewChild=l.first),e.iGM(l=e.CRH())&&(i.yBarViewChild=l.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:m,decls:11,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[1,"p-scrollpanel-wrapper"],[1,"p-scrollpanel-content"],["content",""],[4,"ngTemplateOutlet"],[1,"p-scrollpanel-bar","p-scrollpanel-bar-x"],["xBar",""],[1,"p-scrollpanel-bar","p-scrollpanel-bar-y"],["yBar",""]],template:function(s,i){1&s&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3,4),e.Hsn(5),e.YNc(6,c,1,0,"ng-container",5),e.qZA()(),e._UZ(7,"div",6,7)(9,"div",8,9),e.qZA()),2&s&&(e.Tol(i.styleClass),e.Q6J("ngClass","p-scrollpanel p-component")("ngStyle",i.style),e.xp6(6),e.Q6J("ngTemplateOutlet",i.contentTemplate))},dependencies:[p.mk,p.tP,p.PC],styles:[".p-scrollpanel-wrapper{overflow:hidden;width:100%;height:100%;position:relative;float:left}.p-scrollpanel-content{height:calc(100% + 18px);width:calc(100% + 18px);padding:0 18px 18px 0;position:relative;overflow:auto;box-sizing:border-box}.p-scrollpanel-bar{position:relative;background:#c1c1c1;border-radius:3px;cursor:pointer;opacity:0;transition:opacity .25s linear}.p-scrollpanel-bar-y{width:9px;top:0}.p-scrollpanel-bar-x{height:9px;bottom:0}.p-scrollpanel-hidden{visibility:hidden}.p-scrollpanel:hover .p-scrollpanel-bar,.p-scrollpanel:active .p-scrollpanel-bar{opacity:1}.p-scrollpanel-grabbed{-webkit-user-select:none;user-select:none}\n"],encapsulation:2,changeDetection:0})}return d})(),w=(()=>{class d{static \u0275fac=function(s){return new(s||d)};static \u0275mod=e.oAB({type:d});static \u0275inj=e.cJS({imports:[p.ez]})}return d})()},1913:(D,M,u)=>{u.d(M,{h:()=>o,l:()=>y});var p=u(6814),e=u(9291),n=u(2076);let o=(()=>{class h{el;renderer;zone;constructor(r,c,m){this.el=r,this.renderer=c,this.zone=m}selector;enterClass;enterActiveClass;enterToClass;leaveClass;leaveActiveClass;leaveToClass;hideOnOutsideClick;toggleClass;hideOnEscape;eventListener;documentClickListener;documentKeydownListener;target;enterListener;leaveListener;animating;clickListener(){this.target=this.resolveTarget(),this.toggleClass?this.toggle():null===this.target.offsetParent?this.enter():this.leave()}toggle(){n.p.hasClass(this.target,this.toggleClass)?n.p.removeClass(this.target,this.toggleClass):n.p.addClass(this.target,this.toggleClass)}enter(){this.enterActiveClass?this.animating||(this.animating=!0,"slidedown"===this.enterActiveClass&&(this.target.style.height="0px",n.p.removeClass(this.target,"hidden"),this.target.style.maxHeight=this.target.scrollHeight+"px",n.p.addClass(this.target,"hidden"),this.target.style.height=""),n.p.addClass(this.target,this.enterActiveClass),this.enterClass&&n.p.removeClass(this.target,this.enterClass),this.enterListener=this.renderer.listen(this.target,"animationend",()=>{n.p.removeClass(this.target,this.enterActiveClass),this.enterToClass&&n.p.addClass(this.target,this.enterToClass),this.enterListener&&this.enterListener(),"slidedown"===this.enterActiveClass&&(this.target.style.maxHeight=""),this.animating=!1})):(this.enterClass&&n.p.removeClass(this.target,this.enterClass),this.enterToClass&&n.p.addClass(this.target,this.enterToClass)),this.hideOnOutsideClick&&this.bindDocumentClickListener(),this.hideOnEscape&&this.bindDocumentKeydownListener()}leave(){this.leaveActiveClass?this.animating||(this.animating=!0,n.p.addClass(this.target,this.leaveActiveClass),this.leaveClass&&n.p.removeClass(this.target,this.leaveClass),this.leaveListener=this.renderer.listen(this.target,"animationend",()=>{n.p.removeClass(this.target,this.leaveActiveClass),this.leaveToClass&&n.p.addClass(this.target,this.leaveToClass),this.leaveListener&&this.leaveListener(),this.animating=!1})):(this.leaveClass&&n.p.removeClass(this.target,this.leaveClass),this.leaveToClass&&n.p.addClass(this.target,this.leaveToClass)),this.hideOnOutsideClick&&this.unbindDocumentClickListener(),this.hideOnEscape&&this.unbindDocumentKeydownListener()}resolveTarget(){if(this.target)return this.target;switch(this.selector){case"@next":return this.el.nativeElement.nextElementSibling;case"@prev":return this.el.nativeElement.previousElementSibling;case"@parent":return this.el.nativeElement.parentElement;case"@grandparent":return this.el.nativeElement.parentElement.parentElement;default:return document.querySelector(this.selector)}}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"click",r=>{this.isVisible()&&"static"!==getComputedStyle(this.target).getPropertyValue("position")?this.isOutsideClick(r)&&this.leave():this.unbindDocumentClickListener()}))}bindDocumentKeydownListener(){this.documentKeydownListener||this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"keydown",r=>{const{key:c,keyCode:m,which:f}=r;(!this.isVisible()||"static"===getComputedStyle(this.target).getPropertyValue("position"))&&this.unbindDocumentKeydownListener(),this.isVisible()&&"Escape"===c&&27===m&&27===f&&this.leave()})})}isVisible(){return null!==this.target.offsetParent}isOutsideClick(r){return!this.el.nativeElement.isSameNode(r.target)&&!this.el.nativeElement.contains(r.target)&&!this.target.contains(r.target)}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}unbindDocumentKeydownListener(){this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}ngOnDestroy(){this.target=null,this.eventListener&&this.eventListener(),this.unbindDocumentClickListener(),this.unbindDocumentKeydownListener()}static \u0275fac=function(c){return new(c||h)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b))};static \u0275dir=e.lG2({type:h,selectors:[["","pStyleClass",""]],hostAttrs:[1,"p-element"],hostBindings:function(c,m){1&c&&e.NdJ("click",function(w){return m.clickListener(w)})},inputs:{selector:["pStyleClass","selector"],enterClass:"enterClass",enterActiveClass:"enterActiveClass",enterToClass:"enterToClass",leaveClass:"leaveClass",leaveActiveClass:"leaveActiveClass",leaveToClass:"leaveToClass",hideOnOutsideClick:"hideOnOutsideClick",toggleClass:"toggleClass",hideOnEscape:"hideOnEscape"}})}return h})(),y=(()=>{class h{static \u0275fac=function(c){return new(c||h)};static \u0275mod=e.oAB({type:h});static \u0275inj=e.cJS({imports:[p.ez]})}return h})()}}]);